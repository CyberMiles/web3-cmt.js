<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>web3.cmt.stake.delegator | web3-cmt.js</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/web3-cmt.js/assets/css/styles.bf506a45.css" as="style"><link rel="preload" href="/web3-cmt.js/assets/js/app.bf506a45.js" as="script"><link rel="preload" href="/web3-cmt.js/assets/js/6.aa895698.js" as="script"><link rel="prefetch" href="/web3-cmt.js/assets/js/2.a40b0877.js"><link rel="prefetch" href="/web3-cmt.js/assets/css/1.styles.5a8ea794.css"><link rel="prefetch" href="/web3-cmt.js/assets/js/1.5a8ea794.js"><link rel="prefetch" href="/web3-cmt.js/assets/css/2.styles.a40b0877.css"><link rel="prefetch" href="/web3-cmt.js/assets/js/3.07ef5de4.js"><link rel="prefetch" href="/web3-cmt.js/assets/js/4.e1dc76b4.js"><link rel="prefetch" href="/web3-cmt.js/assets/js/5.eec2f423.js"><link rel="prefetch" href="/web3-cmt.js/assets/js/7.dfae3587.js"><link rel="prefetch" href="/web3-cmt.js/assets/js/8.f92475f0.js">
    <link rel="stylesheet" href="/web3-cmt.js/assets/css/1.styles.5a8ea794.css"><link rel="stylesheet" href="/web3-cmt.js/assets/css/2.styles.a40b0877.css"><link rel="stylesheet" href="/web3-cmt.js/assets/css/styles.bf506a45.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web3-cmt.js/" class="home-link router-link-active"><!----> <span class="site-name">web3-cmt.js</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/web3-cmt.js/" class="nav-link">Quickstart</a></div><div class="nav-item"><a href="/web3-cmt.js/api/" class="nav-link router-link-active">API</a></div> <a href="https://github.com/CyberMiles/web3-cmt.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/web3-cmt.js/" class="nav-link">Quickstart</a></div><div class="nav-item"><a href="/web3-cmt.js/api/" class="nav-link router-link-active">API</a></div> <a href="https://github.com/CyberMiles/web3-cmt.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/web3-cmt.js/" class="sidebar-link">Quickstart</a></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>API Reference</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/web3-cmt.js/api/" class="sidebar-link">web3</a></li><li><a href="/web3-cmt.js/api/cmt.html" class="sidebar-link">web3.cmt</a></li><li><a href="/web3-cmt.js/api/validator.html" class="sidebar-link">web3.cmt.stake.validator</a></li><li><a href="/web3-cmt.js/api/delegator.html" class="active sidebar-link">web3.cmt.stake.delegator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/delegator.html#accept" class="sidebar-link">accept</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/delegator.html#withdraw" class="sidebar-link">withdraw</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/delegator.html#query" class="sidebar-link">query</a></li></ul></li><li><a href="/web3-cmt.js/api/governance.html" class="sidebar-link">web3.cmt.governance</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="web3-cmt-stake-delegator"><a href="#web3-cmt-stake-delegator" aria-hidden="true" class="header-anchor">#</a> web3.cmt.stake.delegator</h1> <p>The <code>web3.cmt.stake.delegator</code> contains all delegator related functions.</p> <hr> <h2 id="accept"><a href="#accept" aria-hidden="true" class="header-anchor">#</a> accept</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>delegator<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>delegateObject <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Used by a delegator to stake CMTs to a validator. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-delegate" target="_blank" rel="noopener noreferrer">cmt_delegate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters"><a href="#parameters" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>delegateObject</code>: <code>Object</code> - The delegate object.</p> <ul><li><code>from</code>: <code>String</code> - The address for the sending account. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li> <li><code>validatorAddress</code>: <code>String</code> - The address of validator to delegate.</li> <li><code>amount</code>: <code>String</code> - Amount of CMTs in Wei to delegate.</li> <li><code>cubeBatch</code>: <code>String</code> - (optional) The batch number of the CMT cube. Use &quot;01&quot; for testing.</li> <li><code>sig</code>: <code>String</code> - (optional) <code>delegator_address|nonce</code> signed by the CMT cube. Check <a href="#cube-signature">this</a> for how to generate a signature for testing.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns"><a href="#returns" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example"><a href="#example" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> delegator <span class="token operator">=</span> <span class="token string">&quot;0x38d7b32e7b5056b297baf1a1e950abbaa19ce949&quot;</span>
<span class="token keyword">var</span> validator <span class="token operator">=</span> <span class="token string">&quot;0x7eff122b94897ea5b0e2a9abf47b86337fafebdc&quot;</span>
<span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> delegator<span class="token punctuation">,</span>
  validatorAddress<span class="token punctuation">:</span> validator<span class="token punctuation">,</span>
  amount<span class="token punctuation">:</span> web3<span class="token punctuation">.</span><span class="token function">toWei</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">&quot;cmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  cubeBatch<span class="token punctuation">:</span> <span class="token string">&quot;01&quot;</span><span class="token punctuation">,</span>
  sig<span class="token punctuation">:</span>
    <span class="token string">&quot;036b6dddefdb1d798a9847121dde8c38713721869a24c77abe2249534f6d98622727720994f663ee9cc446c6e246781caa3a88b7bff78a4ffc9de7c7eded00caef61c2ea36be6a0763ed2bf5af4cf38e38bd6b257857f314c4bbb902d83c8b4413ba2f880d24bf0d6874e392807dfbc2bd03910c58989bc69a9090eddefe8e55&quot;</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>delegator<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: { fee: {} },
      hash: '8A40C44D31316BFB2D417A1985E03DA36145EF5A',
      height: 319
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { code: 5, log: 'Validator does not exist for that address', fee: {} },
      deliver_tx: { fee: {} },
      hash: '9F5BA6915807CC1990E8329BA429CEBDE20827D8',
      height: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="cube-signature"><a href="#cube-signature" aria-hidden="true" class="header-anchor">#</a> Cube signature</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> crypto <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;crypto&quot;</span><span class="token punctuation">)</span>

<span class="token comment">// this private key is for testing only, use it together with cubeBatch &quot;01&quot;</span>
<span class="token keyword">var</span> privateKey <span class="token operator">=</span> <span class="token template-string"><span class="token string">`-----BEGIN RSA PRIVATE KEY-----
MIICXQIBAAKBgQCiWpvDnwYFTqgSWPlA3VO8u+Yv9r8QGlRaYZFszUZEXUQxquGl
FexMSVyFeqYjIokfPOEHHx2voqWgi3FKKlp6dkxwApP3T22y7Epqvtr+EfNybRta
15snccZy47dY4UcmYxbGWFTaL66tz22pCAbjFrxY3IxaPPIjDX+FiXdJWwIDAQAB
AoGAOc63XYz20Nbz4yyI+36S/UWOLY/W8f3eARxycmIY3eizilfE5koLDBKm/ePw
2dvHJTdBDI8Yu9vWy3Y7DWRNOHJKdcc1gGCR36cJFc4/h02zdaK+CK4eAaZLXhdK
H8DljEx6QAeRtxVLZGeYa4actY+3GeujYvkQ5QwNprchTSECQQDO4VMmLB+iIT/N
jnADYOuWKe3iLBoTKHmVfAaTRMMeHATMkpgyVzTLO7jMYCWy7+S0DL4wDNUTQv+P
Nna/hrAxAkEAyObfMAgjnW6s+CGoN+yWtdBC0LvDXDrzaT3KqmHxK2iCg2kQ9R6P
0vCvGJytuPxmIVZn54+KpKfR6ok6RJSbSwJAF+CRxDobfI7x2juyWfF5v18fgZct
e0CUp9gkuiKZkoQRWbshrc263ioKbiw6rahacR13ZfxVK1/0NwdGNVzKQQJBAJpw
QGpgF2DSz8z/sp0rFsA1lOd5L7ka6Dui8MUB/a9s68exYQPNtqpls3SsHS/zd19x
WPa9dcsV51zwmQZXZvkCQQChnQLBs6BbH6O85ePXSSbe7RUvHua6EEkmCNkIw+vT
3Jqmk4ecxCzmEv3xbzrCdgOhfjxqjrsqLLK6BH+lJsWS
-----END RSA PRIVATE KEY-----`</span></span>

<span class="token keyword">var</span> address <span class="token operator">=</span> <span class="token string">&quot;0x38d7b32e7b5056b297baf1a1e950abbaa19ce949&quot;</span>
<span class="token keyword">var</span> nonce <span class="token operator">=</span> <span class="token number">5</span>
<span class="token keyword">var</span> message <span class="token operator">=</span> address <span class="token operator">+</span> <span class="token string">&quot;|&quot;</span> <span class="token operator">+</span> nonce

<span class="token keyword">var</span> hash <span class="token operator">=</span> crypto
  <span class="token punctuation">.</span><span class="token function">createHash</span><span class="token punctuation">(</span><span class="token string">&quot;sha256&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">digest</span><span class="token punctuation">(</span><span class="token string">&quot;hex&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> signature <span class="token operator">=</span> crypto<span class="token punctuation">.</span><span class="token function">privateDecrypt</span><span class="token punctuation">(</span>
  <span class="token punctuation">{</span>
    key<span class="token punctuation">:</span> privateKey<span class="token punctuation">,</span>
    padding<span class="token punctuation">:</span> crypto<span class="token punctuation">.</span>constants<span class="token punctuation">.</span><span class="token constant">RSA_NO_PADDING</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">Buffer</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> <span class="token string">&quot;hex&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token keyword">var</span> signature_hex <span class="token operator">=</span> signature<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">&quot;hex&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>signature_hex<span class="token punctuation">)</span>
<span class="token comment">// 036b6dddefdb1d798a9847121dde8c38713721869a24c77abe2249534f6d98622727720994f663ee9cc446c6e246781caa3a88b7bff78a4ffc9de7c7eded00caef61c2ea36be6a0763ed2bf5af4cf38e38bd6b257857f314c4bbb902d83c8b4413ba2f880d24bf0d6874e392807dfbc2bd03910c58989bc69a9090eddefe8e55</span>
</code></pre></div><hr> <h2 id="withdraw"><a href="#withdraw" aria-hidden="true" class="header-anchor">#</a> withdraw</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>delegator<span class="token punctuation">.</span><span class="token function">withdraw</span><span class="token punctuation">(</span>withdrawObject <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Used by a delegator to unbind staked CMTs from a validator. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-withdraw" target="_blank" rel="noopener noreferrer">cmt_withdraw<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-2"><a href="#parameters-2" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>withdrawObject</code>: <code>Object</code> - The withdraw object.</p> <ul><li><code>from</code>: <code>String</code> - The address for the sending account. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li> <li><code>validatorAddress</code>: <code>String</code> - The address of validator to withdraw.</li> <li><code>amount</code>: <code>String</code> - Amount of CMTs in Wei to withdraw.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-2"><a href="#returns-2" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example-2"><a href="#example-2" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0x38d7b32e7b5056b297baf1a1e950abbaa19ce949&quot;</span><span class="token punctuation">,</span>
  validatorAddress<span class="token punctuation">:</span> <span class="token string">&quot;0x7eff122b94897ea5b0e2a9abf47b86337fafebdc&quot;</span><span class="token punctuation">,</span>
  amount<span class="token punctuation">:</span> web3<span class="token punctuation">.</span><span class="token function">toWei</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">&quot;cmt&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>delegator<span class="token punctuation">.</span><span class="token function">withdraw</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: { fee: {} },
      hash: '31D3460EC5AF72DC4E86CB1A44885B32BBAC2E58',
      height: 931
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { code: 5, log: 'Validator does not exist for that address', fee: {} },
      deliver_tx: { fee: {} },
      hash: '1D87DE23156C94516F0CA6BFDEC0E2FBE397B290',
      height: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="query"><a href="#query" aria-hidden="true" class="header-anchor">#</a> query</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>delegator<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>delegatorAddress <span class="token punctuation">[</span><span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Query the current stake status of a specific delegator. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-querydelegator" target="_blank" rel="noopener noreferrer">cmt_queryDelegator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-3"><a href="#parameters-3" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><code>delegatorAddress</code>: <code>String</code> - The delegator address.</li> <li><code>height</code>: <code>Number</code> - (optional) The block number. Default to 0, means current head of the blockchain. NOT IMPLEMENTED YET.</li> <li><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</li></ul> <h3 id="returns-3"><a href="#returns-3" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - Current block number or the block number if specified.</li> <li><code>data</code>: <code>Object</code> - The delegator object.</li></ul></li></ul> <h3 id="example-3"><a href="#example-3" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> info <span class="token operator">=</span> web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>delegator<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&quot;0x3a436deae68b7d4c8ff9f1cb0498913a397472d7&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/*
{ 
  &quot;height&quot;: 38,
  &quot;data&quot;: [
    {
      &quot;delegator_address&quot;: &quot;0x3a436deae68b7d4c8ff9f1cb0498913a397472d7&quot;,
      &quot;pub_key&quot;: {
        &quot;type&quot;: &quot;tendermint/PubKeyEd25519&quot;,
        &quot;value&quot;: &quot;Rbrzh5DAu53Q/IdP/IxxU9tVVni4kKnPJ1v1bL0TN0s=&quot;
      },
      &quot;validator_address&quot;: &quot;0x7eFf122b94897EA5b0E2A9abf47B86337FAfebdC&quot;,
      &quot;delegate_amount&quot;: &quot;1000000000000000000000000&quot;,
      &quot;award_amount&quot;: &quot;2591143760375906210530&quot;,
      &quot;withdraw_amount&quot;: &quot;0&quot;,
      &quot;pending_withdraw_amount&quot;, &quot;0&quot;,
      &quot;slash_amount&quot;: &quot;0&quot;,
      &quot;comp_rate&quot;: &quot;1/5&quot;,
      &quot;voting_power&quot;: 7738,
      &quot;created_at&quot;: &quot;2018-09-25T08:39:03Z&quot;,
      &quot;updated_at&quot;: &quot;2018-09-25T10:42:07Z&quot;,
      &quot;state&quot;: &quot;Y&quot;,
      &quot;block_height&quot;: 1,
      &quot;average_staking_date&quot;: 0
    }
  ]
}
*/</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/web3-cmt.js/api/validator.html" class="prev">
          web3.cmt.stake.validator
        </a></span> <span class="next"><a href="/web3-cmt.js/api/governance.html">
          web3.cmt.governance
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/web3-cmt.js/assets/js/6.aa895698.js" defer></script><script src="/web3-cmt.js/assets/js/app.bf506a45.js" defer></script>
  </body>
</html>

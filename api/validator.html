<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>web3.cmt.stake.validator | web3-cmt.js</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/web3-cmt.js/assets/css/styles.bf506a45.css" as="style"><link rel="preload" href="/web3-cmt.js/assets/js/app.bf506a45.js" as="script"><link rel="preload" href="/web3-cmt.js/assets/js/8.f92475f0.js" as="script"><link rel="prefetch" href="/web3-cmt.js/assets/js/2.a40b0877.js"><link rel="prefetch" href="/web3-cmt.js/assets/css/1.styles.5a8ea794.css"><link rel="prefetch" href="/web3-cmt.js/assets/js/1.5a8ea794.js"><link rel="prefetch" href="/web3-cmt.js/assets/css/2.styles.a40b0877.css"><link rel="prefetch" href="/web3-cmt.js/assets/js/3.07ef5de4.js"><link rel="prefetch" href="/web3-cmt.js/assets/js/4.e1dc76b4.js"><link rel="prefetch" href="/web3-cmt.js/assets/js/5.eec2f423.js"><link rel="prefetch" href="/web3-cmt.js/assets/js/6.aa895698.js"><link rel="prefetch" href="/web3-cmt.js/assets/js/7.dfae3587.js">
    <link rel="stylesheet" href="/web3-cmt.js/assets/css/1.styles.5a8ea794.css"><link rel="stylesheet" href="/web3-cmt.js/assets/css/2.styles.a40b0877.css"><link rel="stylesheet" href="/web3-cmt.js/assets/css/styles.bf506a45.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/web3-cmt.js/" class="home-link router-link-active"><!----> <span class="site-name">web3-cmt.js</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/web3-cmt.js/" class="nav-link">Quickstart</a></div><div class="nav-item"><a href="/web3-cmt.js/api/" class="nav-link router-link-active">API</a></div> <a href="https://github.com/CyberMiles/web3-cmt.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/web3-cmt.js/" class="nav-link">Quickstart</a></div><div class="nav-item"><a href="/web3-cmt.js/api/" class="nav-link router-link-active">API</a></div> <a href="https://github.com/CyberMiles/web3-cmt.js" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/web3-cmt.js/" class="sidebar-link">Quickstart</a></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>API Reference</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/web3-cmt.js/api/" class="sidebar-link">web3</a></li><li><a href="/web3-cmt.js/api/cmt.html" class="sidebar-link">web3.cmt</a></li><li><a href="/web3-cmt.js/api/validator.html" class="active sidebar-link">web3.cmt.stake.validator</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#declare" class="sidebar-link">declare</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#update" class="sidebar-link">update</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#withdraw" class="sidebar-link">withdraw</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#verify" class="sidebar-link">verify</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#activate" class="sidebar-link">activate</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#deactivate" class="sidebar-link">deactivate</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#setcomprate" class="sidebar-link">setCompRate</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#updateaccount" class="sidebar-link">updateAccount</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#acceptaccountupdate" class="sidebar-link">acceptAccountUpdate</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#query" class="sidebar-link">query</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#list" class="sidebar-link">list</a></li><li class="sidebar-sub-header"><a href="/web3-cmt.js/api/validator.html#queryawardinfos" class="sidebar-link">queryAwardInfos</a></li></ul></li><li><a href="/web3-cmt.js/api/delegator.html" class="sidebar-link">web3.cmt.stake.delegator</a></li><li><a href="/web3-cmt.js/api/governance.html" class="sidebar-link">web3.cmt.governance</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="web3-cmt-stake-validator"><a href="#web3-cmt-stake-validator" aria-hidden="true" class="header-anchor">#</a> web3.cmt.stake.validator</h1> <p>The <code>web3.cmt.stake.validator</code> contains all validator related functions.</p> <hr> <h2 id="declare"><a href="#declare" aria-hidden="true" class="header-anchor">#</a> declare</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">declare</span><span class="token punctuation">(</span>validatorToDeclare <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Allows a potential validator declares its candidacy. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-declarecandidacy" target="_blank" rel="noopener noreferrer">cmt_declareCandidacy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters"><a href="#parameters" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>validatorToDeclare</code>: <code>Object</code> - The validator object to declare.</p> <ul><li><p><code>from</code>: <code>String</code> - The address for the sending account. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified. It will be associated with this validator (for self-staking and in order to get paid).</p></li> <li><p><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</p></li> <li><p><code>pubKey</code>: <code>String</code> - Validator node public key.</p></li> <li><p><code>maxAmount</code>: <code>String</code> - Max amount of CMTs in Wei to be staked.</p></li> <li><p><code>compRate</code>: <code>String</code> - Validator compensation. That is the percentage of block awards to be distributed back to the validators.</p></li> <li><p><code>description</code>: <code>Object</code> - (optional) Description object as follows:</p> <ul><li><code>name</code>: <code>String</code> - Validator name.</li> <li><code>website</code>: <code>String</code> - Web page link.</li> <li><code>location</code>: <code>String</code> - Location(network and geo).</li> <li><code>email</code>: <code>String</code> - Email.</li> <li><code>profile</code>: <code>String</code> - Detailed description.</li></ul></li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns"><a href="#returns" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example"><a href="#example" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0xc4abd0339eb8d57087278718986382264244252f&quot;</span><span class="token punctuation">,</span>
  pubKey<span class="token punctuation">:</span> <span class="token string">&quot;051FUvSNJmVL4UiFL7ucBr3TnGqG6a5JgUIgKf4UOIA=&quot;</span><span class="token punctuation">,</span>
  maxAmount<span class="token punctuation">:</span> web3<span class="token punctuation">.</span><span class="token function">toWei</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">&quot;cmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  compRate<span class="token punctuation">:</span> <span class="token string">&quot;0.2&quot;</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">declare</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: {
        &quot;gasUsed&quot;: &quot;1000000&quot;,
        &quot;fee&quot;: {
          &quot;key&quot;: &quot;R2FzRmVl&quot;,
          &quot;value&quot;: &quot;2000000000000000&quot;
        }
      },
      hash: '1573F39376D8C10C6B890861CD25FD0BA917556F',
      height: 271
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { code: 1, log: 'pubkey has been declared', fee: {} },
      deliver_tx: { fee: {} },
      hash: '032FC10F8B54EBE8028E0ADFD4BB57A9522553D2',
      height: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="update"><a href="#update" aria-hidden="true" class="header-anchor">#</a> update</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>validatorToUpdate <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Allows a validator candidate to change its candidacy. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-updatecandidacy" target="_blank" rel="noopener noreferrer">cmt_updateCandidacy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-2"><a href="#parameters-2" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>validatorToUpdate</code>: <code>Object</code> - The validator object to update.</p> <ul><li><code>from</code>: <code>String</code> - The address for the sending account. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li> <li><code>pubKey</code>: <code>String</code> - (optional) Validator node public key.</li> <li><code>maxAmount</code>: <code>String</code> - (optional) New max amount of CMTs in Wei to be staked.</li> <li><code>compRate</code>: <code>String</code> - (optional) Validator compensation. That is the percentage of block awards to be distributed back to the validators.</li> <li><code>description</code>: <code>Object</code> - (optional) When updated, the verified status will set to false:
<ul><li><code>name</code>: <code>String</code> - Validator name.</li> <li><code>website</code>: <code>String</code> - Web page link.</li> <li><code>location</code>: <code>String</code> - Location(network and geo).</li> <li><code>email</code>: <code>String</code> - Email.</li> <li><code>profile</code>: <code>String</code> - Detailed description.</li></ul></li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-2"><a href="#returns-2" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example-2"><a href="#example-2" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0xc4abd0339eb8d57087278718986382264244252f&quot;</span><span class="token punctuation">,</span>
  maxAmount<span class="token punctuation">:</span> web3<span class="token punctuation">.</span><span class="token function">toWei</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">&quot;cmt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  description<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    website<span class="token punctuation">:</span> <span class="token string">&quot;http://www.blahblahblah.com/&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: {
        &quot;gasUsed&quot;: &quot;1000000&quot;,
        &quot;fee&quot;: {
          &quot;key&quot;: &quot;R2FzRmVl&quot;,
          &quot;value&quot;: &quot;2000000000000000&quot;
        }
      },
      hash: '1B11C4D5EA9664DB1DD3A9CDD86741D6C8E226E9',
      height: 297
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { code: 1, log: 'cannot edit non-exsits candidacy', fee: {} },
      deliver_tx: { fee: {} },
      hash: '96E9FAF98075248D69DCC7D0A5697312733D159F',
      height: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="withdraw"><a href="#withdraw" aria-hidden="true" class="header-anchor">#</a> withdraw</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">withdraw</span><span class="token punctuation">(</span>validatorToWithdraw <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Allows a validator to withdraw. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-withdrawcandidacy" target="_blank" rel="noopener noreferrer">cmt_withdrawCandidacy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-3"><a href="#parameters-3" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>validatorToWithdraw</code>: <code>Object</code> - The validator object to withdraw.</p> <ul><li><code>from</code>: <code>String</code> - The address for the validator. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-3"><a href="#returns-3" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example-3"><a href="#example-3" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0xc4abd0339eb8d57087278718986382264244252f&quot;</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">withdraw</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: { fee: {} },
      hash: '4A723894821166EFC7DDD4FD92BE8D855B3FDBAC',
      height: 311
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { code: 1, log: 'cannot withdraw non-exsits candidacy', fee: {} },
      deliver_tx: { fee: {} },
      hash: 'C7AAB80D2F6503CC2BB4CC5843A8361F0D182D6D',
      height: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="verify"><a href="#verify" aria-hidden="true" class="header-anchor">#</a> verify</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">verify</span><span class="token punctuation">(</span>validatorToVerify <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Allows the foundation to &quot;verify&quot; a validator's information. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-verifycandidacy" target="_blank" rel="noopener noreferrer">cmt_verifyCandidacy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-4"><a href="#parameters-4" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>validatorToVerify</code>: <code>Object</code> - The validator object to verify.</p> <ul><li><code>from</code>: <code>String</code> - A special address the foundation owns. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li> <li><code>candidateAddress</code>: <code>String</code> - The address of validator to verfify.</li> <li><code>verified</code>: <code>Boolean</code> - (optional) Verified true or false, default to false.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-4"><a href="#returns-4" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example-4"><a href="#example-4" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0x7eff122b94897ea5b0e2a9abf47b86337fafebdc&quot;</span><span class="token punctuation">,</span>
  candidateAddress<span class="token punctuation">:</span> <span class="token string">&quot;0xc4abd0339eb8d57087278718986382264244252f&quot;</span><span class="token punctuation">,</span>
  verified<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">verify</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: { fee: {} },
      hash: 'EADC546C764AFF6C176B843321B5AB090FBEC0DA',
      height: 334
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { code: 21, log: 'verification disallowed', fee: {} },
      deliver_tx: { fee: {} },
      hash: '9F5BA6915807CC1990E8329BA429CEBDE20827D8',
      height: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="activate"><a href="#activate" aria-hidden="true" class="header-anchor">#</a> activate</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>validatorToActivate <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Allows a &quot;removed&quot; validator to re-activate itself. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-activatecandidacy" target="_blank" rel="noopener noreferrer">cmt_activateCandidacy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-5"><a href="#parameters-5" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>validatorToActivate</code>: <code>Object</code> - The validator object to activate.</p> <ul><li><code>from</code>: <code>String</code> - The address for the validator. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-5"><a href="#returns-5" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example-5"><a href="#example-5" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0x7eff122b94897ea5b0e2a9abf47b86337fafebdc&quot;</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: { fee: {} },
      hash: 'FB70A78AD62A0E0B24194CA951725770B2EFBC0A',
      height: 393
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      &quot;check_tx&quot;: {
        &quot;code&quot;: 1,
        &quot;log&quot;: &quot;already activated&quot;,
        &quot;fee&quot;: {}
      },
      deliver_tx: { fee: {} },
      &quot;hash&quot;: &quot;FB70A78AD62A0E0B24194CA951725770B2EFBC0A&quot;,
      &quot;height&quot;: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="deactivate"><a href="#deactivate" aria-hidden="true" class="header-anchor">#</a> deactivate</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span>validatorToActivate <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Allows a validator to deactivate itself. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-deactivatecandidacy" target="_blank" rel="noopener noreferrer">cmt_deactivateCandidacy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-6"><a href="#parameters-6" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>validatorToDeactivate</code>: <code>Object</code> - The validator object to deactivate.</p> <ul><li><code>from</code>: <code>String</code> - The address for the validator. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-6"><a href="#returns-6" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example-6"><a href="#example-6" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0x7eff122b94897ea5b0e2a9abf47b86337fafebdc&quot;</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: { fee: {} },
      hash: 'FB70A78AD62A0E0B24194CA951725770B2EFBC0A',
      height: 393
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      &quot;check_tx&quot;: {
        &quot;code&quot;: 1,
        &quot;log&quot;: &quot;already deactivated&quot;,
        &quot;fee&quot;: {}
      },
      deliver_tx: { fee: {} },
      &quot;hash&quot;: &quot;FB70A78AD62A0E0B24194CA951725770B2EFBC0A&quot;,
      &quot;height&quot;: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="setcomprate"><a href="#setcomprate" aria-hidden="true" class="header-anchor">#</a> setCompRate</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">setCompRate</span><span class="token punctuation">(</span>compRate <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Allows a validator to update the compensation rate for its delegators. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-setcomprate" target="_blank" rel="noopener noreferrer">cmt_setCompRate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-7"><a href="#parameters-7" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>compRate</code>: <code>Object</code> - The validator object to activate.</p> <ul><li><code>from</code>: <code>String</code> - The address for the validator. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li> <li><code>delegatorAddress</code>: <code>String</code> - The adddress of delegator.</li> <li><code>compRate</code>: <code>String</code> - New compensation rate to set for the delegator. Compensation rate is the percentage of block awards to be distributed back to the validators.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-7"><a href="#returns-7" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example-7"><a href="#example-7" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0x7eff122b94897ea5b0e2a9abf47b86337fafebdc&quot;</span><span class="token punctuation">,</span>
  delegatorAddress<span class="token punctuation">:</span> <span class="token string">&quot;0x38d7b32e7b5056b297baf1a1e950abbaa19ce949&quot;</span><span class="token punctuation">,</span>
  compRate<span class="token punctuation">:</span> <span class="token string">&quot;0.3&quot;</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">compRate</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: {
        &quot;gasUsed&quot;: &quot;1000000&quot;,
        &quot;fee&quot;: {
          &quot;key&quot;: &quot;R2FzRmVl&quot;,
          &quot;value&quot;: &quot;2000000000000000&quot;
        }
      },
      hash: 'C61BAEEEF637CB554157261DF27F7D1CFE50F251',
      height: 393
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      &quot;check_tx&quot;: {
        &quot;code&quot;: 21,
        &quot;log&quot;: &quot;No corresponding delegation exists&quot;,
        &quot;fee&quot;: {}
      },
      deliver_tx: { fee: {} },
      &quot;hash&quot;: &quot;DD7135A352FBE2173DCEB1AA1F73734D00095699&quot;,
      &quot;height&quot;: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="updateaccount"><a href="#updateaccount" aria-hidden="true" class="header-anchor">#</a> updateAccount</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">updateAccount</span><span class="token punctuation">(</span>updateObject <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>A validator requests to update its binding address. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-updatecandidacyaccount" target="_blank" rel="noopener noreferrer">cmt_updateCandidacyAccount<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-8"><a href="#parameters-8" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>updateObject</code>: <code>Object</code> - The validator account update object.</p> <ul><li><code>from</code>: <code>String</code> - The address for the validator. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li> <li><code>newCandidateAccount</code>: <code>String</code> - The new adddress of the validator.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-8"><a href="#returns-8" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed. If successful, the requestId will be set in the data property(base64 encoded), for the new address to accept later.</li></ul></li></ul> <h3 id="example-8"><a href="#example-8" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0x7eff122b94897ea5b0e2a9abf47b86337fafebdc&quot;</span><span class="token punctuation">,</span>
  newCandidateAccount<span class="token punctuation">:</span> <span class="token string">&quot;0x283ED77f880D87dBdE8721259F80517A38ae5b4f&quot;</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">updateAccount</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: {
        data: &quot;MQ==&quot;,
        gasUsed: &quot;1000000&quot;,
        fee: { key: &quot;R2FzRmVl&quot;, value: &quot;2000000000000000&quot; }
      },
      hash: &quot;34B157D42AFF2D8327FC8CEA8DFFC1E61E9C0D93&quot;,
      height: 105
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { code: 21, log: &quot;Bad request&quot;, fee: {} },
      deliver_tx: { fee: {} },
      hash: &quot;ABAAB19BB229404EEF8D62FB9F5FC7C88C595A55&quot;,
      height: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="acceptaccountupdate"><a href="#acceptaccountupdate" aria-hidden="true" class="header-anchor">#</a> acceptAccountUpdate</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">acceptAccountUpdate</span><span class="token punctuation">(</span>acceptObject <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>A validator uses its new address to accept an account updating request. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-acceptcandidacyaccountupdate" target="_blank" rel="noopener noreferrer">cmt_acceptCandidacyAccountUpdate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-9"><a href="#parameters-9" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><p><code>acceptObject</code>: <code>Object</code> - The accept object.</p> <ul><li><code>from</code>: <code>String</code> - The new address for the validator. Uses the <code>web3.cmt.defaultAccount</code> property, if not specified.</li> <li><code>nonce</code>: <code>Number</code> - (optional) The number of transactions made by the sender prior to this one.</li> <li><code>accountUpdateRequestId</code>: <code>int64</code> - The account updating request id.</li></ul></li> <li><p><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</p></li></ul> <h3 id="returns-9"><a href="#returns-9" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - The block number where the transaction is in. =0 if failed.</li> <li><code>hash</code>: <code>String</code> - Hash of the transaction.</li> <li><code>check_tx</code>: <code>Object</code> - CheckTx result. Contains error code and log if failed.</li> <li><code>deliver_tx</code>: <code>Object</code> - DeliverTx result. Contains error code and log if failed.</li></ul></li></ul> <h3 id="example-9"><a href="#example-9" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> payload <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">&quot;0x283ed77f880d87dbde8721259f80517a38ae5b4f&quot;</span><span class="token punctuation">,</span>
  accountUpdateRequestId<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">acceptAccountUpdate</span><span class="token punctuation">(</span>payload<span class="token punctuation">,</span> <span class="token punctuation">(</span>err<span class="token punctuation">,</span> res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { fee: {} },
      deliver_tx: {
        gasUsed: &quot;1000000&quot;,
        fee: { key: &quot;R2FzRmVl&quot;, value: &quot;2000000000000000&quot; }
      },
      hash: &quot;D343D115C152D1A78B7DB9CAA2160E3BA31A3F63&quot;,
      height: 67
    }
    */</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token comment">/*
    {
      check_tx: { code: 20, log: &quot;Insufficient bond shares&quot;, fee: {} },
      deliver_tx: { fee: {} },
      hash: &quot;D343D115C152D1A78B7DB9CAA2160E3BA31A3F63&quot;,
      height: 0
    }
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h2 id="query"><a href="#query" aria-hidden="true" class="header-anchor">#</a> query</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span>validatorAddress <span class="token punctuation">[</span><span class="token punctuation">,</span> height<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Query the current stake status of a specific validator. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-queryvalidator" target="_blank" rel="noopener noreferrer">cmt_queryValidator<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-10"><a href="#parameters-10" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><code>validatorAddress</code>: <code>String</code> - The validator address.</li> <li><code>height</code>: <code>Number</code> - (optional) The block number. Default to 0, means current head of the blockchain. NOT IMPLEMENTED YET.</li> <li><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</li></ul> <h3 id="returns-10"><a href="#returns-10" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - Current block number or the block number if specified.</li> <li><code>data</code>: <code>Object</code> - The validator object.</li></ul></li></ul> <h3 id="example-10"><a href="#example-10" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> info <span class="token operator">=</span> web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&quot;0x7eFf122b94897EA5b0E2A9abf47B86337FAfebdC&quot;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/*
{ 
  &quot;height&quot;: 38,
  &quot;data&quot;: {
    &quot;pub_key&quot;: {
      &quot;type&quot;: &quot;tendermint/PubKeyEd25519&quot;,
      &quot;value&quot;: &quot;DuoqmCIcqTzzeBLhz1qt+Q+eCAAHb6bmPng6D1k66Ys=&quot;
    },
    &quot;owner_address&quot;: &quot;0x7eFf122b94897EA5b0E2A9abf47B86337FAfebdC&quot;,
    &quot;shares&quot;: &quot;90194330251710238108877&quot;,
    &quot;voting_power&quot;: 90194,
    &quot;max_shares&quot;: &quot;830667891977041679569910&quot;,
    &quot;comp_rate&quot;: &quot;0.2&quot;,
    &quot;created_at&quot;: &quot;2018-07-03T10:04:20Z&quot;,
    &quot;updated_at&quot;: &quot;2018-07-03T14:35:52Z&quot;,
    &quot;description&quot;: {
      &quot;name&quot;: &quot;Aaron&quot;,
      &quot;website&quot;: &quot;https://cube-api-test.cybermiles.io&quot;,
      &quot;location&quot;: &quot;CN,ASIA&quot;,
      &quot;email&quot;: &quot;aaron@wespoke.com&quot;,
      &quot;profile&quot;: &quot;Donec rutrum congue leo eget malesuada. Donec rutrum congue leo eget malesuada. Nulla quis lorem ut libero malesuada feugiat. Donec sollicitudin molestie malesuada. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget tortor risus.&quot;
    },
    &quot;verified&quot;: &quot;N&quot;,
    &quot;active&quot;: &quot;Y&quot;,
    &quot;block_height&quot;: 1,
    &quot;rank&quot;: 0,
    &quot;state&quot;: &quot;Validator&quot;
  }
}
*/</span>
</code></pre></div><hr> <h2 id="list"><a href="#list" aria-hidden="true" class="header-anchor">#</a> list</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">[</span>height<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Returns a list of all current validators and validator candidates. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-queryvalidators" target="_blank" rel="noopener noreferrer">cmt_queryValidators<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-11"><a href="#parameters-11" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><code>height</code>: <code>Number</code> - (optional) The block number. Default to 0, means current head of the blockchain. NOT IMPLEMENTED YET.</li> <li><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</li></ul> <h3 id="returns-11"><a href="#returns-11" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - Current block number or the block number if specified.</li> <li><code>data</code>: <code>Array</code> - An array of all current validators and validator candidates. For details of validator object, see <a href="#query">web3.cmt.stake.validator.query</a>.</li></ul></li></ul> <h3 id="example-11"><a href="#example-11" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> info <span class="token operator">=</span> web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/*
{ 
  &quot;height&quot;: 38,
  &quot;data&quot;: [
    {
      &quot;pub_key&quot;: {
        &quot;type&quot;: &quot;tendermint/PubKeyEd25519&quot;,
        &quot;value&quot;: &quot;DuoqmCIcqTzzeBLhz1qt+Q+eCAAHb6bmPng6D1k66Ys=&quot;
      },
      &quot;owner_address&quot;: &quot;0x7eFf122b94897EA5b0E2A9abf47B86337FAfebdC&quot;,
      &quot;shares&quot;: &quot;89884499451603693478569&quot;,
      &quot;voting_power&quot;: 89884,
      &quot;max_shares&quot;: &quot;830667891977041679569910&quot;,
      &quot;comp_rate&quot;: &quot;0.2&quot;,
      &quot;created_at&quot;: &quot;2018-07-03T10:04:20Z&quot;,
      &quot;updated_at&quot;: &quot;2018-07-03T14:35:52Z&quot;,
      &quot;description&quot;: {
        &quot;name&quot;: &quot;Aaron&quot;,
        &quot;website&quot;: &quot;https://cube-api-test.cybermiles.io&quot;,
        &quot;location&quot;: &quot;CN,ASIA&quot;,
        &quot;email&quot;: &quot;aaron@wespoke.com&quot;,
        &quot;profile&quot;: &quot;Donec rutrum congue leo eget malesuada. Donec rutrum congue leo eget malesuada. Nulla quis lorem ut libero malesuada feugiat. Donec sollicitudin molestie malesuada. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin eget tortor risus.&quot;
      },
      &quot;verified&quot;: &quot;N&quot;,
      &quot;active&quot;: &quot;Y&quot;,
      &quot;block_height&quot;: 1,
      &quot;rank&quot;: 0,
      &quot;state&quot;: &quot;Validator&quot;
    }
  ]
}
*/</span>
</code></pre></div><hr> <h2 id="queryawardinfos"><a href="#queryawardinfos" aria-hidden="true" class="header-anchor">#</a> queryAwardInfos</h2> <div class="language-js extra-class"><pre class="language-js"><code>web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">queryAwardInfos</span><span class="token punctuation">(</span><span class="token punctuation">[</span>height<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> callback<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>Returns award information of all current validators and backup validators. JSON RPC method: <a href="https://travis.readthedocs.io/en/latest/json-rpc.html#cmt-queryawardinfos" target="_blank" rel="noopener noreferrer">cmt_queryAwardInfos<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="parameters-12"><a href="#parameters-12" aria-hidden="true" class="header-anchor">#</a> Parameters</h3> <ul><li><code>height</code>: <code>Number</code> - (optional) The block number. Default to 0, means current head of the blockchain.</li> <li><code>callback</code>: <code>Function</code> - (optional) If you pass a callback the HTTP request is made asynchronous. See <a href="https://github.com/ethereum/wiki/wiki/JavaScript-API#using-callbacks" target="_blank" rel="noopener noreferrer">this note<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for details.</li></ul> <h3 id="returns-12"><a href="#returns-12" aria-hidden="true" class="header-anchor">#</a> Returns</h3> <ul><li><p><code>Object</code> - Result object.</p> <ul><li><code>height</code>: <code>Number</code> - Current block number or the block number if specified.</li> <li><code>data</code>: <code>Array</code> - An array of award information of all current validators and backup validators.</li></ul></li></ul> <h3 id="example-12"><a href="#example-12" aria-hidden="true" class="header-anchor">#</a> Example</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> info <span class="token operator">=</span> web3<span class="token punctuation">.</span>cmt<span class="token punctuation">.</span>stake<span class="token punctuation">.</span>validator<span class="token punctuation">.</span><span class="token function">queryAwardInfos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>info<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/*
{
  &quot;height&quot;: 1196,
  &quot;data&quot;: [
    {
      &quot;address&quot;: &quot;0x7eff122b94897ea5b0e2a9abf47b86337fafebdc&quot;,
      &quot;state&quot;: &quot;Validator&quot;,
      &quot;amount&quot;: &quot;25367833587011669202&quot;
    }
  ]
}
</span></code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        
        <a href="/web3-cmt.js/api/cmt.html" class="prev">
          web3.cmt
        </a></span> <span class="next"><a href="/web3-cmt.js/api/delegator.html">
          web3.cmt.stake.delegator
        </a>
        
      </span></p></div> </div> <!----></div></div>
    <script src="/web3-cmt.js/assets/js/8.f92475f0.js" defer></script><script src="/web3-cmt.js/assets/js/app.bf506a45.js" defer></script>
  </body>
</html>
